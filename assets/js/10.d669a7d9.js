(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{360:function(t,s,a){t.exports=a.p+"assets/img/03.d6d354e5.png"},361:function(t,s,a){t.exports=a.p+"assets/img/04.964a4a60.png"},368:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("ul",[n("li",[t._v("探索：\n"),n("ul",[n("li",[t._v("前端组件化核心内容的探索")]),t._v(" "),n("li",[t._v("前端组件化是不是前端开发的基本能力，有没有必要去人人掌握？")])])]),t._v(" "),n("li",[t._v("实践：如何用原生JS实现自己的组件库")])])]),t._v(" "),n("h1",{attrs:{id:"前端组件化的探索与实践"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前端组件化的探索与实践"}},[t._v("#")]),t._v(" 前端组件化的探索与实践")]),t._v(" "),n("h2",{attrs:{id:"背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),n("p",[t._v(" 前端项目越来越复杂，导致开发、维护的成本越来越高，当有人受不了的时候，重构就开始了，组件化的前端架构就出现。我们会把页面拆分成子页面、子页面提取模板、模板由各种组件构成，就像收纳一样，一块儿一块儿的，把复杂的页面转化成组件化的架构。"),n("br"),t._v("\n 很神奇的是，“复杂”依旧“复杂”。"),n("br"),t._v("\n 现在我们可以通过“收纳”后的目录结构快速上手项目或者进行组件复用，但是这带来了组件间通信、高阶组件等衍生概念的学习成本，甚至于在组件嵌套过深的时候，庞杂无比的组件树会影响到页面性能、问题定位和后期维护。所以，“复杂”从来没有消失，聪明的开发者将他以组件化的形式做了转移，试图让它变得更加有序的复杂、更加可控的复杂。类似的做法有很多，像数据库分库分表、微服务等等。重复代码太多了，软件架构太乱了，怎么办？抽象、分层吧。")]),t._v(" "),n("h3",{attrs:{id:"掌握组件化的能力重要吗？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#掌握组件化的能力重要吗？"}},[t._v("#")]),t._v(" 掌握组件化的能力重要吗？")]),t._v(" "),n("p",[t._v(" 对于”组件化“，前端开发者没有自己设计过，想必多少也用过一些组件库。"),n("br"),t._v("\n 大公司有自己的基础建设团队，有专人负责组件化，小公司则会采用开源组件库提高开发效率。对于专注于业务代码的同行们，对于组件库用的很6。"),n("br"),t._v("\n 显而易见，大家的共识在于：“组件化对于前端开发是必要的”，但是对于“"),n("strong",[t._v("掌握组件化的能力")]),t._v("”则产生了分歧。"),n("br"),t._v("\n 那么组件化是不是前端开发的基本能力，有没有必要去人人掌握？"),n("br")]),t._v(" "),n("h4",{attrs:{id:"案例-——-待补充"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#案例-——-待补充"}},[t._v("#")]),t._v(" 案例 —— 待补充")]),t._v(" "),n("p"),t._v(" "),n("h2",{attrs:{id:"探索"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#探索"}},[t._v("#")]),t._v(" 探索")]),t._v(" "),n("p",[t._v(" 一个成熟好用组件库通常具备很多特征，它们大多有自己的脚手架，有详细的设计文档和示例，有核心的基本组件和完善的测试体系。这里可以讨论的就很多了，不过我写这篇文章的目的还是集中在核心组件这部分内容。"),n("br"),t._v(" "),n("img",{attrs:{src:a(360),alt:""}})]),t._v(" "),n("p",[t._v(" 对于基础组件部分，我会从图里的三个方面："),n("strong",[t._v("组件机制、组件体系和如何用组件开发页面")]),t._v("来探索组件化的相关内容。")]),t._v(" "),n("h3",{attrs:{id:"组件机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件机制"}},[t._v("#")]),t._v(" 组件机制")]),t._v(" "),n("p",[t._v(" 常言道，万变不离其宗，那么组件化的核心，就是组件机制要讨论的事情:")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("生命周期"),n("br"),t._v("\n 目前流行的几个框架都会提到有生命周期的概念。如果你从事过安卓开发、小程序开发，甚至于基本的C++开发，作为一个合格的程序员，都会听到这个词。之所以频繁出现，就是因为它足够形象，很接地气，就像“生老病死”。"),n("br"),t._v("\n 生命周期把组件从无到有再到无这个过程中的关键节点概括出来，因为在不同的阶段要做不同的事情。")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("创建(create)")]),n("br"),t._v("\n  初始化一个组件，也就是组件被new的时候调用。这个时候组件被实例化，获取一些初始化的属性和状态，并没有体现在页面上，仅仅存在于内存中。")]),t._v(" "),n("li",[n("strong",[t._v("挂载(mount)")]),n("br"),t._v("\n  组件被挂在上dom节点后。")]),t._v(" "),n("li",[n("strong",[t._v("存在期间：更新(update)")]),n("br"),t._v("\n  当组件的属性值发生变化时。这个时候通常会触发重绘，优秀的框架会进行differ操作，判断属性变更是否影响到界面显示从而避免不必要的重绘，以提高性能。")]),t._v(" "),n("li",[n("strong",[t._v("销毁(unmount)")]),n("br"),t._v("\n  清除副作用（事件监听，计时器等），内存回收。")])]),t._v(" "),n("p",[n("em",[t._v("通常在mount/update/unmount节点前后，会提供一些钩子函数，用于完成特定的操作。")]),n("br"),t._v("\n 那么已知这些最关键的生命周期节点，我们可以写出一份最简单的组件代码实现：")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseComponent")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("destroy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("unmounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendTo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("htmlElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 挂载到DOM")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新触发重绘")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("unmounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清除副作用")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("attribute/property"),n("br"),t._v("\n attribute(特性) & property(属性)通常都被翻译成属性，实在容易造成误解，所以这里回归英文单词写作吧。"),n("br"),t._v(" "),n("strong",[t._v("attribute")]),t._v(": 在标签内的描述节点都是attribute特性，像"),n("code",[t._v('<div id="demo" class="demo" title="test...">')]),t._v("，这里的id, class, title都是attribute，通常都是字符串类型，在HTML标准里可以通过"),n("code",[t._v("setAttribute()")]),t._v("设置。"),n("br"),t._v(" "),n("strong",[t._v("property")]),t._v(": 属性更倾向于属于DOM对象，可以直接通过js获取属性的方法一样"),n("code",[t._v("document.getElementById('demo').id = 'demo'")]),t._v(" 。"),n("br"),t._v("\n非自定义的property（attribute）改变的时候，其对应的attribute（property）在多数情况下也会改变，而对应的property改变的时候，attribute特性的值一直未默认值，并不会随之改变。"),n("br"),t._v("\n这是个可以单起一篇的主题。后续详解吧，如果有后续的话。\n补充代码如下："),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseComponent")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PROPERTY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ATTRIBUTE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do something")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ATTRIBUTE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do something")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PROPERTY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ATTRIBUTE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("通信与事件\n常规实现，关键词"),n("em",[t._v("事件分发、发布/订阅模式")]),t._v("，简化版代码："),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseComponent")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emptyObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("triggerEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" event "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EVENTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("模板描述方式\n"),n("ul",[n("li",[t._v("JSX")]),t._v(" "),n("li",[t._v("Vue SFC")])])]),t._v(" "),n("li",[t._v("children")]),t._v(" "),n("li",[t._v("配置能力")]),t._v(" "),n("li",[t._v("基础能力")])]),t._v(" "),n("h3",{attrs:{id:"组件体系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件体系"}},[t._v("#")]),t._v(" 组件体系")]),t._v(" "),n("ul",[n("li",[t._v("设计语言\n"),n("ul",[n("li",[t._v("设计原则：指导设计人员设计出符合规范的风格统一的组件和UI，可以参考"),n("a",{attrs:{href:"https://ant.design/docs/spec/proximity-cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ant Design的设计语言"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("设计模式：面向开发者视角，提高开发效率与一致性。")])])]),t._v(" "),n("li",[t._v("组件分类\n"),n("ul",[n("li",[t._v("布局类：Tab，树，列表，卡片等")]),t._v(" "),n("li",[t._v("表单类：输入框，选择器等")]),t._v(" "),n("li",[t._v("指示器类：按钮，图标，tips等")]),t._v(" "),n("li",[t._v("可视化类：柱状图，折线图，饼图，表格等")]),t._v(" "),n("li",[t._v("......")])])])]),t._v(" "),n("h3",{attrs:{id:"用组件开发页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用组件开发页面"}},[t._v("#")]),t._v(" 用组件开发页面")]),t._v(" "),n("ul",[n("li",[t._v("组件复合使用")]),t._v(" "),n("li",[t._v("二次封装"),n("br"),t._v("\n 对于现有的轮子，如果没有满足我们的需求，可以考虑通过在别人轮子的基础上，进行二次封装，添加自己需要的逻辑和特性，达到解耦与复用的效果。")]),t._v(" "),n("li",[t._v("业务组件"),n("br"),t._v("\n 我对于业务组件实在是有点兴趣，所以这里先拎出来写一下，笑~"),n("br"),t._v("\n 其实这里就回答了我一开始提到的问题："),n("strong",[t._v("“掌握组件化的能力重要吗？”")]),t._v("。当然重要啊，如果你见过一个20+页面，一个页面对应一个独立的HTML+CSS+JS，并且这些页面布局和业务逻辑高度相似，重复代码达到50%以上，并且要为他添加新特性的时候。反正我是绝望的。在这个项目里，遍地是Tab + 表格 + 搜索表单的场景，实现方案是copy and paste，显然是很糟糕的，这时候我们抽象成一个组件，就方便很多。我们只需要对不同的业务数据为组件绑定不同的数据处理事件就好了。"),n("br"),t._v("\n 业务组件由于被业务场景限定，未必是通用的。要不要抽取成一个通用的业务组件，也有很多考虑。如果数据处理在组件内部，可复用性必然会降低，但是组件开发相对简单；如果不确定组件是否会被多次使用，就不要过度设计，不然可能是白用工。"),n("br"),t._v("\n 另一种业务组件的概念，在我司被称作"),n("strong",[t._v("业务组件单元")]),t._v("。不再是简单的组件化或者模块化，我觉得用业务组件化十分贴切。比方说在应用首页要展现一个集成的portal，展示一系列图表可视化信息，而这些图表展示区域由不同的小组开发。这种场景更多映射了公司内部的组织架构，而业务组件单元就是用于跨团队间的页面融合，最好能解决类似于团队技术栈差异、命名空间冲突、CSS冲突的痛点。（又可以另起一篇……）")])]),t._v(" "),n("h3",{attrs:{id:"汇总"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#汇总"}},[t._v("#")]),t._v(" 汇总")]),t._v(" "),n("p",[n("img",{attrs:{src:a(361),alt:""}})])])}),[],!1,null,null,null);s.default=e.exports}}]);